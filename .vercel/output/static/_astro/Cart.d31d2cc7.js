import{j as e}from"./jsx-runtime.21f6a92b.js";import{r as x}from"./index.c7f9a1cc.js";import{M as k,P as f,C as g,a as z,b as I}from"./Icons.0612ca54.js";import{u as S}from"./cartStore.4d1b0008.js";function w(){const{add:m,cart:a,remove:j,removeAll:u}=S(s=>s),[i,C]=x.useState(!1),n=x.useId(),r=a?.length||0,o=[];let d=0;a.forEach((s,t)=>{d+=s.price*s.count,o.push(e.jsxs("li",{children:[e.jsxs("div",{className:"up-details",children:[e.jsx("img",{src:s.image.src,alt:"",loading:"lazy"}),e.jsxs("div",{className:"item-details",children:[e.jsxs("div",{className:"price-container",children:[e.jsx("span",{className:"dollar",children:"US$"}),e.jsx("span",{className:"price",children:s.price})]}),e.jsx("span",{className:"size",children:e.jsxs("small",{children:["Size: ",s.size]})}),e.jsxs("div",{className:"quantity-container",children:[e.jsxs("small",{children:["Qty: ",s.count]}),e.jsx("button",{title:"Remove","aria-label":"Remove a product",className:"minus-icon",onClick:()=>p(s.id,s.size),children:e.jsx(k,{})}),e.jsx("button",{title:"Add","aria-label":"Add a product",className:"plus-icon",onClick:()=>b(s.id,s.size),children:e.jsx(f,{})})]})]})]}),e.jsx("div",{className:"item-title",children:e.jsx("strong",{children:s.title})})]},`${s.id}-${s.size}-${t}`))});const p=(s,t)=>{let l=a.find(c=>c.id===s&&c.size===t);j(l.id,l.size,!1)},b=(s,t)=>{let l=a.find(c=>c.id===s&&c.size===t);m(l,l.size)},N=()=>{u()},h=()=>{C(!i)},v=i;return e.jsxs(e.Fragment,{children:[e.jsxs("label",{tabIndex:"0",title:"Open cart","aria-label":"Open cart Icon",className:"cart-button",htmlFor:n,children:[e.jsx(g,{})," ",r]}),e.jsx("input",{"tab-index":"0",id:n,type:"checkbox",onChange:h,checked:v,hidden:!0}),e.jsxs("aside",{className:"cart",children:[e.jsxs("div",{className:"cart-header-container",children:[e.jsx("h2",{className:"cart-header",children:"Your cart"}),e.jsx("div",{className:"close-icon-container",children:e.jsxs("button",{title:"Close","aria-label":"Close cart button",type:"button",onClick:h,children:[e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(z,{})]})})]}),a.length>0&&e.jsx("ul",{className:"cart-list",children:o}),r<=0&&e.jsxs("div",{className:"cart-empty",children:[e.jsx("p",{children:"Your cart is empty"}),e.jsxs("a",{href:"/products",children:["Continue Shopping",e.jsx("span",{"aria-hidden":"true",children:" â†’"})]})]}),a.length>0&&e.jsxs("div",{className:"cart-footer-container",children:[e.jsxs("div",{className:"cart-subtotal",children:[e.jsx("p",{children:"Subtotal"}),e.jsxs("p",{children:["$",d]})]}),e.jsx("small",{children:"Shipping and taxes calculated at checkout."}),e.jsx("a",{title:"Checkout cart link","aria-label":"Checkout cart link",href:"/",className:"checkout-cart-button",children:"Checkout"})]}),a.length>0&&e.jsxs("button",{className:"clear-cart",onClick:N,title:"Clear cart button","aria-label":"Clear cart button",children:[e.jsx("span",{children:"Clear cart"}),e.jsx(I,{})]})]})]})}export{w as Cart};
