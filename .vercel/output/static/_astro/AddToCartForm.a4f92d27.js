import{j as t}from"./jsx-runtime.21f6a92b.js";import{u as b}from"./cartStore.4d1b0008.js";import{R as f,A as S}from"./Icons.0612ca54.js";import{r as d}from"./index.c7f9a1cc.js";function P({product:a}){const{add:m,cart:u,remove:h,removeAll:C}=b(e=>e),o=d.useId(),[c,n]=d.useState(a.size[0]),l=["36","37","38","39","40","41","42","43","44"],x=l.filter(e=>a?.size.includes(e)),r=(e=>u.some(s=>s.id===e&&c===s.size))(a.id),j=e=>{e.preventDefault();const s=e.target.value;n(s)},v=e=>{e.preventDefault();const s=e.target.elements.size.value;n(s),h(a.id,s,!0)},p=e=>{e.preventDefault();const s=e.target.elements.size.value;n(s),m(a,s)},z=r?"product-added":"product-to-add",i=r?"Remove from cart":"Add to cart";return t.jsx(t.Fragment,{children:t.jsxs("form",{onSubmit:()=>{r?v(event):p(event)},children:[t.jsxs("div",{className:"product-size-container",children:[t.jsx("label",{htmlFor:o,children:"Size *"}),t.jsx("select",{value:c,id:o,className:"size-select",name:"size",onChange:j,title:"Choose a size","aria-label":"Select a shoe size",tabIndex:"0",children:l.map(e=>x.indexOf(e)!==-1?t.jsx("option",{value:e,children:e},e):t.jsx("option",{value:e,disabled:!0,children:e},e))})]}),t.jsx("div",{className:"cart-button-container",children:t.jsx("button",{title:i,"aria-label":i,className:z,type:"submit",children:r?t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Delete"}),t.jsx(f,{})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Add to cart"}),t.jsx(S,{})]})})})]})})}export{P as AddToCartForm};
